!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw o}}}}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return n};var t,n={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),l=new L(r||[]);return i(o,"_invoke",{value:T(e,n,l)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var v="suspendedStart",h="suspendedYield",g="executing",m="completed",x={};function y(){}function b(){}function w(){}var k={};d(k,u,(function(){return this}));var _=Object.getPrototypeOf,I=_&&_(_(N([])));I&&I!==r&&a.call(I,u)&&(k=I);var S=w.prototype=y.prototype=Object.create(k);function O(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(t,n){function r(i,o,l,u){var c=p(t[i],t,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==e(d)&&a.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,l,u)}),(function(e){r("throw",e,l,u)})):n.resolve(d).then((function(e){s.value=e,l(s)}),(function(e){return r("throw",e,l,u)}))}u(c.arg)}var o;i(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,a){r(e,t,n,a)}))}return o=o?o.then(a,a):a()}})}function T(e,n,r){var a=v;return function(i,o){if(a===g)throw Error("Generator is already running");if(a===m){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var u=E(l,r);if(u){if(u===x)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===v)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=g;var c=p(e,n,r);if("normal"===c.type){if(a=r.done?m:h,c.arg===x)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=m,r.method="throw",r.arg=c.arg)}}}function E(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),x;var i=p(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,x;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,x):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,x)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function N(n){if(n||""===n){var r=n[u];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var i=-1,o=function e(){for(;++i<n.length;)if(a.call(n,i))return e.value=n[i],e.done=!1,e;return e.value=t,e.done=!0,e};return o.next=o}}throw new TypeError(e(n)+" is not iterable")}return b.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=d(w,s,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},n.awrap=function(e){return{__await:e}},O(C.prototype),d(C.prototype,c,(function(){return this})),n.AsyncIterator=C,n.async=function(e,t,r,a,i){void 0===i&&(i=Promise);var o=new C(f(e,t,r,a),i);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(S),d(S,s,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return l.type="throw",l.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,x):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),x}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),x}},n}function l(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(c){return void n(c)}l.done?t(u):Promise.resolve(u).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,u,"next",e)}function u(e){l(i,r,a,o,u,"throw",e)}o(void 0)}))}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(t,n,r){var a;return a=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(n,"string"),(n="symbol"==e(a)?a:a+"")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}System.register(["./index-legacy-5611e80a.js","./lodash-legacy-f37ad943.js","./index-legacy-5487ec21.js"],(function(e,a){"use strict";var i,l,c,d,f,p,v,h,g,m,x,y,b,w,k,_,I,S,O,C,T,E,z,P,L,N,j,A,B,H,M,D,R,U,J,F,Y,$,W,G,V,X,q,Z,K,Q,ee,te,ne,re,ae,ie,oe,le,ue,ce,se,de,fe,pe,ve,he,ge,me,xe,ye,be,we,ke,_e,Ie,Se,Oe,Ce,Te,Ee,ze,Pe,Le,Ne,je,Ae,Be,He,Me,De,Re,Ue,Je,Fe,Ye,$e;return{setters:[function(e){i=e.d,l=e.u,c=e.e,d=e.h,f=e.i,p=e.j,v=e.m,h=e.t,g=e.k,m=e.T,x=e._,y=e.l,b=e.r,w=e.p,k=e.q,_=e.c,I=e.w,S=e.n,O=e.o,C=e.v,T=e.x,E=e.y,z=e.z,P=e.A,L=e.B,N=e.f,j=e.F,A=e.C,B=e.D,H=e.E,M=e.G,D=e.H,R=e.I,U=e.J,J=e.K,F=e.L,Y=e.M,$=e.a,W=e.s,G=e.g,V=e.b,X=e.N,q=e.O,Z=e.P,K=e.Q,Q=e.R,ee=e.S,te=e.U,ne=e.V,re=e.W,ae=e.X},function(e){ie=e.i,oe=e.a,le=e.d,ue=e.b,ce=e.c,se=e.m,de=e.e,fe=e.f,pe=e.s,ve=e.u,he=e.g,ge=e.E,me=e.h,xe=e.j,ye=e.k,be=e.z,we=e.l,ke=e.r,_e=e.n,Ie=e.o,Se=e.p,Oe=e.q,Ce=e.t,Te=e.v,Ee=e.w,ze=e.x,Pe=e.y,Le=e.A,Ne=e.B,je=e.C,Ae=e.D,Be=e.F,He=e.G,Me=e.H,De=e.I,Re=e.J,Ue=e.K},function(e){Je=e.g,Fe=e.u,Ye=e.m,$e=e.H}],execute:function(){var We=document.createElement("style");We.textContent='.el-image__error,.el-image__inner,.el-image__placeholder,.el-image__wrapper{height:100%;width:100%}.el-image{display:inline-block;overflow:hidden;position:relative}.el-image__inner{opacity:1;vertical-align:top}.el-image__inner.is-loading{opacity:0}.el-image__wrapper{left:0;position:absolute;top:0}.el-image__error,.el-image__placeholder{background:var(--el-fill-color-light)}.el-image__error{align-items:center;color:var(--el-text-color-placeholder);display:flex;font-size:14px;justify-content:center;vertical-align:middle}.el-image__preview{cursor:pointer}.el-image-viewer__wrapper{bottom:0;left:0;position:fixed;right:0;top:0}.el-image-viewer__btn{align-items:center;border-radius:50%;box-sizing:border-box;cursor:pointer;display:flex;justify-content:center;opacity:.8;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1}.el-image-viewer__btn .el-icon{cursor:pointer;font-size:inherit}.el-image-viewer__close{font-size:40px;height:40px;right:40px;top:40px;width:40px}.el-image-viewer__canvas{align-items:center;display:flex;height:100%;justify-content:center;position:static;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.el-image-viewer__actions{background-color:var(--el-text-color-regular);border-color:#fff;border-radius:22px;bottom:30px;height:44px;left:50%;padding:0 23px;transform:translate(-50%);width:282px}.el-image-viewer__actions__inner{align-items:center;color:#fff;cursor:default;display:flex;font-size:23px;height:100%;justify-content:space-around;width:100%}.el-image-viewer__prev{left:40px}.el-image-viewer__next,.el-image-viewer__prev{background-color:var(--el-text-color-regular);border-color:#fff;color:#fff;font-size:24px;height:44px;top:50%;transform:translateY(-50%);width:44px}.el-image-viewer__next{right:40px;text-indent:2px}.el-image-viewer__close{background-color:var(--el-text-color-regular);border-color:#fff;color:#fff;font-size:24px;height:44px;width:44px}.el-image-viewer__mask{background:#000;height:100%;left:0;opacity:.5;position:absolute;top:0;width:100%}.viewer-fade-enter-active{-webkit-animation:viewer-fade-in var(--el-transition-duration);animation:viewer-fade-in var(--el-transition-duration)}.viewer-fade-leave-active{-webkit-animation:viewer-fade-out var(--el-transition-duration);animation:viewer-fade-out var(--el-transition-duration)}@-webkit-keyframes viewer-fade-in{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:translateZ(0)}}@keyframes viewer-fade-in{0%{opacity:0;transform:translate3d(0,-20px,0)}to{opacity:1;transform:translateZ(0)}}@-webkit-keyframes viewer-fade-out{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20px,0)}}@keyframes viewer-fade-out{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20px,0)}}.conf-btn[data-v-8f51601b]{position:absolute;background:#b1e0fb;top:40px}.ai-c1-think[data-v-8f51601b]{margin-bottom:4px}.think-title[data-v-8f51601b]{background:rgb(245,245,245);display:flex;align-items:center;border-radius:8px;padding:6px 10px 4px 12px;font-size:12px;height:24px}.icon-move[data-v-8f51601b]{margin-left:10px;transition:transform .3s}.move[data-v-8f51601b]{transform:rotate(-180deg)}.chat-class[data-v-8f51601b]{width:100%;height:100%;padding:0;display:flex}.bottom-item[data-v-8f51601b]{min-height:116px;position:absolute;left:calc(20% + 50px);transform:translate(0);bottom:40px;width:calc(80% - 240px);padding:0 70px;background:#ffffff}.conf-btn-2[data-v-8f51601b]{margin-left:0;position:absolute;background:#b1e0fb;top:80px}.conf-btn-3[data-v-8f51601b]{margin-left:0;position:absolute;background:#b1e0fb;top:120px}.use-method[data-v-8f51601b]{position:absolute;right:35px;top:30px;z-index:1000}.side_menu[data-v-8f51601b]{width:75px;background-color:#283cc4;border-radius:10px;padding:8px;position:absolute;right:-5px;top:-1px;transition:width .3s ease}.resend-btn[data-v-8f51601b]{height:45px;padding:10px 30px;border-radius:18px;background:rgb(5 96 178)}.resend-btn[data-v-8f51601b]:hover{background-color:#4097f7}.menu_item[data-v-8f51601b]{color:#fff;height:36px;display:flex;align-items:center;padding:0 8px;border-radius:10px;font-size:14px;cursor:pointer;white-space:nowrap;position:relative;transition:background-color .3s linear}.big-menu_item[data-v-8f51601b]{padding:0 8px 0 5.6px}.menu_item i[data-v-8f51601b]{font-size:16px}.menu_text[data-v-8f51601b]{max-width:0;overflow:hidden;white-space:nowrap;opacity:0;transition:max-width .5s ease,opacity .5s ease;margin-left:8px}.menu_item[data-v-8f51601b]:hover{background-color:#0467d1}.popover[data-v-8f51601b]{position:absolute;top:50%;right:calc(100% + 5px);transform:translateY(-50%);display:none;background-color:#fff;border-radius:2px;padding:8px;color:#333;font-size:12px;box-shadow:0 6px 6px rgba(0,0,0,.1)}.popover[data-v-8f51601b]:before{content:"";position:absolute;border-width:6px;right:-12px;top:50%;transform:translateY(-50%);border-style:solid;border-right-color:#fff;border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent}.toggle[data-v-8f51601b]{margin-top:40px;width:100%;padding:0;justify-content:center}.toggle i[data-v-8f51601b]{font-size:16px;transition:transform .3s ease}.side_menu.collapsible[data-v-8f51601b]{width:36px}.side_menu:not(.collapsible) .menu_text[data-v-8f51601b]{max-width:200px;opacity:1}.side_menu.collapsible .menu_text[data-v-8f51601b]{max-width:0;opacity:0}.side_menu.collapsible .toggle i[data-v-8f51601b]{transform:rotate(180deg)}.side_menu.collapsible .menu_item:hover .popover[data-v-8f51601b]{display:inline-block}.side-img[data-v-8f51601b]{height:20px;width:20px;min-width:20px}.big-side-img[data-v-8f51601b]{height:24px;width:24px;min-width:24px}.small-side-img[data-v-8f51601b]{height:18px;width:18px;min-width:18px;margin-left:1px}.resend-text[data-v-8f51601b]{color:#eee;font-size:18px;margin-right:10px}@media only screen and (min-width: 1441px) and (max-width: 1920px){.resend-btn[data-v-8f51601b]{height:42px;padding:10px 28px;border-radius:16px}.resend-text[data-v-8f51601b]{font-size:16px;margin-right:8px}}@media only screen and (max-width: 1440px){.side_menu[data-v-8f51601b]{right:-10px;top:-6px}.resend-btn[data-v-8f51601b]{height:36px;padding:8px 18px;border-radius:16px}.resend-text[data-v-8f51601b]{font-size:14px;margin-right:6px}}.ai-c3 .btn-tooltip,.edit-btn-out .el-button.is-link{height:30px;width:30px}\n',document.head.appendChild(We);function Ge(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return oe(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),le(e,t,{leading:r,maxWait:t,trailing:a})}var Ve=i({name:"ElCollapseTransition"}),Xe=i(s(s({},Ve),{},{setup:function(e){var t=l("collapse-transition"),n=function(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},r={beforeEnter:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter:function(e){requestAnimationFrame((function(){e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:0!==e.scrollHeight?e.style.maxHeight="".concat(e.scrollHeight,"px"):e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"}))},afterEnter:function(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled:function(e){n(e)},beforeLeave:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight="".concat(e.scrollHeight,"px"),e.style.overflow="hidden"},leave:function(e){0!==e.scrollHeight&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave:function(e){n(e)},leaveCancelled:function(e){n(e)}};return function(e,n){return c(),d(m,v({name:g(t).b()},h(r)),{default:f((function(){return[p(e.$slots,"default")]})),_:3},16,["name"])}}})),qe=x(Xe,[["__file","collapse-transition.vue"]]);qe.install=function(e){e.component(qe.name,qe)};var Ze=qe,Ke=ue({urlList:{type:ce(Array),default:function(){return se([])}},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ce(String)}}),Qe={close:function(){return!0},switch:function(e){return de(e)},rotate:function(e){return de(e)}},et=["src","crossorigin"],tt=i({name:"ElImageViewer"}),nt=i(s(s({},tt),{},{props:Ke,emits:Qe,setup:function(e,t){var n,r=t.expose,a=t.emit,i=e,o={CONTAIN:{name:"contain",icon:y(fe)},ORIGINAL:{name:"original",icon:y(pe)}},u=ve().t,v=l("image-viewer"),h=he().nextZIndex,x=b(),R=b([]),U=w(),J=b(!0),F=b(i.initialIndex),Y=k(o.CONTAIN),$=b({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),W=b(null!=(n=i.zIndex)?n:h()),G=_((function(){return i.urlList.length<=1})),V=_((function(){return 0===F.value})),X=_((function(){return F.value===i.urlList.length-1})),q=_((function(){return i.urlList[F.value]})),Z=_((function(){return[v.e("btn"),v.e("prev"),v.is("disabled",!i.infinite&&V.value)]})),K=_((function(){return[v.e("btn"),v.e("next"),v.is("disabled",!i.infinite&&X.value)]})),Q=_((function(){var e=$.value,t=e.scale,n=e.deg,r=e.offsetX,a=e.offsetY,i=e.enableTransition,l=r/t,u=a/t;switch(n%360){case 90:case-270:var c=[u,-l];l=c[0],u=c[1];break;case 180:case-180:var s=[-l,-u];l=s[0],u=s[1];break;case 270:case-90:var d=[-u,l];l=d[0],u=d[1]}var f={transform:"scale(".concat(t,") rotate(").concat(n,"deg) translate(").concat(l,"px, ").concat(u,"px)"),transition:i?"transform .3s":""};return Y.value.name===o.CONTAIN.name&&(f.maxWidth=f.maxHeight="100%"),f}));function ee(){U.stop(),a("close")}function te(){J.value=!1}function ne(e){J.value=!1,e.target.alt=u("el.image.error")}function re(e){if(!J.value&&0===e.button&&x.value){$.value.enableTransition=!1;var t=$.value,n=t.offsetX,r=t.offsetY,a=e.pageX,i=e.pageY,o=Ge((function(e){$.value=s(s({},$.value),{},{offsetX:n+e.pageX-a,offsetY:r+e.pageY-i})})),l=Ie(document,"mousemove",o);Ie(document,"mouseup",(function(){l()})),e.preventDefault()}}function ae(){$.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ie(){if(!J.value){var e=Oe(o),t=Object.values(o),n=Y.value.name,r=t.findIndex((function(e){return e.name===n})),a=(r+1)%e.length;Y.value=o[e[a]],ae()}}function oe(e){var t=i.urlList.length;F.value=(e+t)%t}function le(){V.value&&!i.infinite||oe(F.value-1)}function ue(){X.value&&!i.infinite||oe(F.value+1)}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!J.value){var n=i.minScale,r=i.maxScale,o=s({zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0},t),l=o.zoomRate,u=o.rotateDeg,c=o.enableTransition;switch(e){case"zoomOut":$.value.scale>n&&($.value.scale=Number.parseFloat(($.value.scale/l).toFixed(3)));break;case"zoomIn":$.value.scale<r&&($.value.scale=Number.parseFloat(($.value.scale*l).toFixed(3)));break;case"clockwise":$.value.deg+=u,a("rotate",$.value.deg);break;case"anticlockwise":$.value.deg-=u,a("rotate",$.value.deg)}$.value.enableTransition=c}}return I(q,(function(){S((function(){var e=R.value[0];(null==e?void 0:e.complete)||(J.value=!0)}))})),I(F,(function(e){ae(),a("switch",e)})),O((function(){var e,t,n,r;n=Ge((function(e){switch(e.code){case Se.esc:i.closeOnPressEscape&&ee();break;case Se.space:ie();break;case Se.left:le();break;case Se.up:ce("zoomIn");break;case Se.right:ue();break;case Se.down:ce("zoomOut")}})),r=Ge((function(e){ce((e.deltaY||e.deltaX)<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})})),U.run((function(){Ie(document,"keydown",n),Ie(document,"wheel",r)})),null==(t=null==(e=x.value)?void 0:e.focus)||t.call(e)})),r({setActiveItem:oe}),function(e,t){return c(),d(D,{to:"body",disabled:!e.teleported},[C(m,{name:"viewer-fade",appear:""},{default:f((function(){return[T("div",{ref_key:"wrapper",ref:x,tabindex:-1,class:E(g(v).e("wrapper")),style:z({zIndex:W.value})},[T("div",{class:E(g(v).e("mask")),onClick:t[0]||(t[0]=P((function(t){return e.hideOnClickModal&&ee()}),["self"]))},null,2),L(" CLOSE "),T("span",{class:E([g(v).e("btn"),g(v).e("close")]),onClick:ee},[C(g(ge),null,{default:f((function(){return[C(g(me))]})),_:1})],2),L(" ARROW "),g(G)?L("v-if",!0):(c(),N(j,{key:0},[T("span",{class:E(g(Z)),onClick:le},[C(g(ge),null,{default:f((function(){return[C(g(xe))]})),_:1})],2),T("span",{class:E(g(K)),onClick:ue},[C(g(ge),null,{default:f((function(){return[C(g(ye))]})),_:1})],2)],64)),L(" ACTIONS "),T("div",{class:E([g(v).e("btn"),g(v).e("actions")])},[T("div",{class:E(g(v).e("actions__inner"))},[C(g(ge),{onClick:t[1]||(t[1]=function(e){return ce("zoomOut")})},{default:f((function(){return[C(g(be))]})),_:1}),C(g(ge),{onClick:t[2]||(t[2]=function(e){return ce("zoomIn")})},{default:f((function(){return[C(g(we))]})),_:1}),T("i",{class:E(g(v).e("actions__divider"))},null,2),C(g(ge),{onClick:ie},{default:f((function(){return[(c(),d(A(g(Y).icon)))]})),_:1}),T("i",{class:E(g(v).e("actions__divider"))},null,2),C(g(ge),{onClick:t[3]||(t[3]=function(e){return ce("anticlockwise")})},{default:f((function(){return[C(g(ke))]})),_:1}),C(g(ge),{onClick:t[4]||(t[4]=function(e){return ce("clockwise")})},{default:f((function(){return[C(g(_e))]})),_:1})],2)],2),L(" CANVAS "),T("div",{class:E(g(v).e("canvas"))},[(c(!0),N(j,null,B(e.urlList,(function(t,n){return H((c(),N("img",{ref_for:!0,ref:function(e){return R.value[n]=e},key:t,src:t,style:z(g(Q)),class:E(g(v).e("img")),crossorigin:e.crossorigin,onLoad:te,onError:ne,onMousedown:re},null,46,et)),[[M,n===F.value]])})),128))],2),p(e.$slots,"default")],6)]})),_:3})],8,["disabled"])}}})),rt=R(x(nt,[["__file","image-viewer.vue"]])),at=ue({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ce([String,Object])},previewSrcList:{type:ce(Array),default:function(){return se([])}},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ce(String)}}),it={load:function(e){return e instanceof Event},error:function(e){return e instanceof Event},switch:function(e){return de(e)},close:function(){return!0},show:function(){return!0}},ot=["src","loading","crossorigin"],lt={key:0},ut=i({name:"ElImage",inheritAttrs:!1}),ct=i(s(s({},ut),{},{props:at,emits:it,setup:function(e,t){var n,r,a=t.emit,i=e,s="",h=ve().t,m=l("image"),x=U(),y=Ce(),w=b(),k=b(!1),C=b(!0),P=b(!1),A=b(),B=b(),H=ie&&"loading"in HTMLImageElement.prototype,M=_((function(){return[m.e("inner"),Y.value&&m.e("preview"),C.value&&m.is("loading")]})),D=_((function(){return x.style})),R=_((function(){var e=i.fit;return ie&&e?{objectFit:e}:{}})),Y=_((function(){var e=i.previewSrcList;return Array.isArray(e)&&e.length>0})),$=_((function(){var e=i.previewSrcList,t=i.initialIndex,n=t;return t>e.length-1&&(n=0),n})),W=_((function(){return"eager"!==i.loading&&(!H&&"lazy"===i.loading||i.lazy)})),G=function(){ie&&(C.value=!0,k.value=!1,w.value=i.src)};function V(e){C.value=!1,k.value=!1,a("load",e)}function X(e){C.value=!1,k.value=!0,a("error",e)}function q(){(function(e,t){if(!ie||!e||!t)return!1;var n,r=e.getBoundingClientRect();return n=t instanceof Element?t.getBoundingClientRect():{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<n.bottom&&r.bottom>n.top&&r.right>n.left&&r.left<n.right})(A.value,B.value)&&(G(),ee())}var Z=Te(q,200,!0);function K(){return Q.apply(this,arguments)}function Q(){return(Q=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S();case 4:r=i.scrollContainer,Ee(r)?B.value=r:F(r)&&""!==r?B.value=null!=(t=document.querySelector(r))?t:void 0:A.value&&(B.value=ze(A.value)),B.value&&(n=Ie(B,"scroll",Z),setTimeout((function(){return q()}),100));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){ie&&B.value&&Z&&(null==n||n(),B.value=void 0)}function te(e){if(e.ctrlKey)return e.deltaY<0||e.deltaY>0?(e.preventDefault(),!1):void 0}function ne(){Y.value&&(r=Ie("wheel",te,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",P.value=!0,a("show"))}function re(){null==r||r(),document.body.style.overflow=s,P.value=!1,a("close")}function ae(e){a("switch",e)}return I((function(){return i.src}),(function(){W.value?(C.value=!0,k.value=!1,ee(),K()):G()})),O((function(){W.value?K():G()})),function(e,t){return c(),N("div",{ref_key:"container",ref:A,class:E([g(m).b(),e.$attrs.class]),style:z(g(D))},[k.value?p(e.$slots,"error",{key:0},(function(){return[T("div",{class:E(g(m).e("error"))},J(g(h)("el.image.error")),3)]})):(c(),N(j,{key:1},[void 0!==w.value?(c(),N("img",v({key:0},g(y),{src:w.value,loading:e.loading,style:g(R),class:g(M),crossorigin:e.crossorigin,onClick:ne,onLoad:V,onError:X}),null,16,ot)):L("v-if",!0),C.value?(c(),N("div",{key:1,class:E(g(m).e("wrapper"))},[p(e.$slots,"placeholder",{},(function(){return[T("div",{class:E(g(m).e("placeholder"))},null,2)]}))],2)):L("v-if",!0)],64)),g(Y)?(c(),N(j,{key:2},[P.value?(c(),d(g(rt),{key:0,"z-index":e.zIndex,"initial-index":g($),infinite:e.infinite,"zoom-rate":e.zoomRate,"min-scale":e.minScale,"max-scale":e.maxScale,"url-list":e.previewSrcList,"hide-on-click-modal":e.hideOnClickModal,teleported:e.previewTeleported,"close-on-press-escape":e.closeOnPressEscape,onClose:re,onSwitch:ae},{default:f((function(){return[e.$slots.viewer?(c(),N("div",lt,[p(e.$slots,"viewer")])):L("v-if",!0)]})),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):L("v-if",!0)],64)):L("v-if",!0)],6)}}})),st=e("E",R(x(ct,[["__file","image.vue"]]))),dt=ue({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:ce([String,Array]),default:"Element Plus"},font:{type:ce(Object)},gap:{type:ce(Array),default:function(){return[100,100]}},offset:{type:ce(Array)}});function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=document.createElement("canvas"),a=r.getContext("2d"),i=e*n,o=t*n;return r.setAttribute("width","".concat(i,"px")),r.setAttribute("height","".concat(o,"px")),a.save(),[a,r,i,o]}function pt(){return function(e,t,n,a,i,o,l,u){var c=r(ft(a,i,n),4),s=c[0],d=c[1],f=c[2],p=c[3];if(e instanceof HTMLImageElement)s.drawImage(e,0,0,f,p);else{var v=o.color,h=o.fontSize,g=o.fontStyle,m=o.fontWeight,x=o.fontFamily,y=o.textAlign,b=o.textBaseline,w=Number(h)*n;s.font="".concat(g," normal ").concat(m," ").concat(w,"px/").concat(i,"px ").concat(x),s.fillStyle=v,s.textAlign=y,s.textBaseline=b;var k=Array.isArray(e)?e:[e];null==k||k.forEach((function(e,t){s.fillText(null!=e?e:"",f/2,t*(w+3*n))}))}var _=Math.PI/180*Number(t),I=Math.max(a,i),S=r(ft(I,I,n),3),O=S[0],C=S[1],T=S[2];O.translate(T/2,T/2),O.rotate(_),f>0&&p>0&&O.drawImage(d,-f/2,-p/2);var E=0,z=0,P=0,L=0,N=f/2,j=p/2;[[0-N,0-j],[0+N,0-j],[0+N,0+j],[0-N,0+j]].forEach((function(e){var t=r(e,2),n=function(e,t){return[e*Math.cos(_)-t*Math.sin(_),e*Math.sin(_)+t*Math.cos(_)]}(t[0],t[1]),a=r(n,2),i=a[0],o=a[1];E=Math.min(E,i),z=Math.max(z,i),P=Math.min(P,o),L=Math.max(L,o)}));var A=E+T/2,B=P+T/2,H=z-E,M=L-P,D=l*n,R=u*n,U=2*(H+D),J=M+R,F=r(ft(U,J),2),Y=F[0],$=F[1];function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Y.drawImage(C,A,B,H,M,e,t,H,M)}return W(),W(H+D,-M/2-R/2),W(H+D,+M/2+R/2),[$.toDataURL(),U/n,J/n]}}var vt,ht=i({name:"ElWatermark"}),gt=i(s(s({},ht),{},{props:dt,setup:function(e){var t=e,a={position:"relative"},i=_((function(){var e,n;return null!=(n=null==(e=t.font)?void 0:e.color)?n:"rgba(0,0,0,.15)"})),o=_((function(){var e,n;return null!=(n=null==(e=t.font)?void 0:e.fontSize)?n:16})),l=_((function(){var e,n;return null!=(n=null==(e=t.font)?void 0:e.fontWeight)?n:"normal"})),u=_((function(){var e,n;return null!=(n=null==(e=t.font)?void 0:e.fontStyle)?n:"normal"})),d=_((function(){var e,n;return null!=(n=null==(e=t.font)?void 0:e.fontFamily)?n:"sans-serif"})),f=_((function(){var e,n;return null!=(n=null==(e=t.font)?void 0:e.textAlign)?n:"center"})),v=_((function(){var e,n;return null!=(n=null==(e=t.font)?void 0:e.textBaseline)?n:"top"})),h=_((function(){return t.gap[0]})),g=_((function(){return t.gap[1]})),m=_((function(){return h.value/2})),x=_((function(){return g.value/2})),y=_((function(){var e,n;return null!=(n=null==(e=t.offset)?void 0:e[0])?n:m.value})),w=_((function(){var e,n;return null!=(n=null==(e=t.offset)?void 0:e[1])?n:x.value})),S=k(null),C=k(),T=b(!1),E=function(){C.value&&(C.value.remove(),C.value=void 0)},P=function(e,n){var r,a,i,o;S.value&&C.value&&(T.value=!0,C.value.setAttribute("style",function(e){return Object.keys(e).map((function(t){return"".concat(function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}(t),": ").concat(e[t],";")})).join(" ")}(s(s({},(a={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"},i=y.value-m.value,o=w.value-x.value,i>0&&(a.left="".concat(i,"px"),a.width="calc(100% - ".concat(i,"px)"),i=0),o>0&&(a.top="".concat(o,"px"),a.height="calc(100% - ".concat(o,"px)"),o=0),a.backgroundPosition="".concat(i,"px ").concat(o,"px"),a)),{},{backgroundImage:"url('".concat(e,"')"),backgroundSize:"".concat(Math.floor(n),"px")}))),null==(r=S.value)||r.append(C.value),setTimeout((function(){T.value=!1})))},L=pt(),j=function(){var e=document.createElement("canvas").getContext("2d"),a=t.image,c=t.content,s=t.rotate;if(e){C.value||(C.value=document.createElement("div"));var p=window.devicePixelRatio||1,m=function(e){var r=120,a=64,i=t.image,l=t.content,u=t.width,c=t.height;if(!i&&e.measureText){e.font="".concat(Number(o.value),"px ").concat(d.value);var s=Array.isArray(l)?l:[l],f=s.map((function(t){var n=e.measureText(t);return[n.width,void 0!==n.fontBoundingBoxAscent?n.fontBoundingBoxAscent+n.fontBoundingBoxDescent:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent]}));r=Math.ceil(Math.max.apply(Math,n(f.map((function(e){return e[0]}))))),a=Math.ceil(Math.max.apply(Math,n(f.map((function(e){return e[1]})))))*s.length+3*(s.length-1)}return[null!=u?u:r,null!=c?c:a]}(e),x=r(m,2),y=x[0],b=x[1],w=function(e){var t=r(L(e||"",s,p,y,b,{color:i.value,fontSize:o.value,fontStyle:u.value,fontWeight:l.value,fontFamily:d.value,textAlign:f.value,textBaseline:v.value},h.value,g.value),2),n=t[0],a=t[1];P(n,a)};if(a){var k=new Image;k.onload=function(){w(k)},k.onerror=function(){w(c)},k.crossOrigin="anonymous",k.referrerPolicy="no-referrer",k.src=a}else w(c)}};O((function(){j()})),I((function(){return t}),(function(){j()}),{deep:!0,flush:"post"}),Y((function(){E()}));return Pe(S,(function(e){T.value||e.forEach((function(e){(function(e,t){var n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),"attributes"===e.type&&e.target===t&&(n=!0),n})(e,C.value)&&(E(),j())}))}),{attributes:!0,subtree:!0,childList:!0}),function(e,t){return c(),N("div",{ref_key:"containerRef",ref:S,style:z([a])},[p(e.$slots,"default")],4)}}})),mt=R(x(gt,[["__file","watermark.vue"]])),xt=new Uint8Array(16);function yt(){if(!vt&&!(vt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vt(xt)}for(var bt=[],wt=0;wt<256;++wt)bt.push((wt+256).toString(16).slice(1));var kt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function _t(e,t,n){if(kt.randomUUID&&!t&&!e)return kt.randomUUID();var r=(e=e||{}).random||(e.rng||yt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return bt[e[t+0]]+bt[e[t+1]]+bt[e[t+2]]+bt[e[t+3]]+"-"+bt[e[t+4]]+bt[e[t+5]]+"-"+bt[e[t+6]]+bt[e[t+7]]+"-"+bt[e[t+8]]+bt[e[t+9]]+"-"+bt[e[t+10]]+bt[e[t+11]]+bt[e[t+12]]+bt[e[t+13]]+bt[e[t+14]]+bt[e[t+15]]}(r)}var It=function(e){return te("data-v-8f51601b"),e=e(),ne(),e},St={class:"aichat-main"},Ot={class:"chat-class"},Ct={class:"left-menu"},Tt={style:{height:"calc(100% - 0px)","margin-top":"0px"}},Et={class:"feed-out"},zt={class:"use-method"},Pt={style:{}},Lt=["onMouseenter","onClick"],Nt={class:"menu_text"},jt={key:0,class:"human"},At={class:"h-content"},Bt={class:"h-inner"},Ht={key:0,class:"h-c1"},Mt={class:"c2"},Dt={class:"h-c3-out"},Rt={class:"h-c3"},Ut={class:"own-pagnation"},Jt={key:0,style:{display:"flex","align-items":"center"}},Ft={key:0,class:"icon6","aria-hidden":"true"},Yt=[It((function(){return T("use",{"xlink:href":"#icon-xiangzuo1"},null,-1)}))],$t={key:1,class:"icon6","aria-hidden":"true"},Wt=[It((function(){return T("use",{"xlink:href":"#icon-xiangzuo"},null,-1)}))],Gt={class:"page-inner"},Vt=It((function(){return T("span",{class:"page-inner grey-color"}," / ",-1)})),Xt={class:"page-inner grey-color"},qt={key:0,class:"icon6","aria-hidden":"true"},Zt=[It((function(){return T("use",{"xlink:href":"#icon-xiangyou1"},null,-1)}))],Kt={key:1,class:"icon6","aria-hidden":"true"},Qt=[It((function(){return T("use",{"xlink:href":"#icon-xiangyou"},null,-1)}))],en={key:0,class:"edit-btn-out"},tn=It((function(){return T("svg",{class:"icon1","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-bianji1"})],-1)})),nn={key:1,class:"h-c1-all"},rn={class:"h-c3-out"},an={class:"h-c3-edit"},on=It((function(){return T("svg",{class:"icon4","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-duihao2"})],-1)})),ln=It((function(){return T("svg",{class:"icon5","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-ruocuowu"})],-1)})),un={class:"user"},cn={key:1,class:"ai"},sn={class:"ai-inner"},dn={class:"user"},fn={class:"ai-c1"},pn={key:0,class:"ai-c1-think"},vn={class:"think-area"},hn=["innerHTML"],gn={key:0,class:"ai-title"},mn={key:1,class:"warn-icon"},xn=[It((function(){return T("svg",{class:"icon2","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-jinggao3"})],-1)}))],yn={key:2,class:"warn-icon"},bn=[It((function(){return T("svg",{t:"1751264263225",class:"icon2",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"37992",width:"200",height:"200"},[T("path",{d:"M512 876.8c-49.2 0-97-9.7-142-28.7-43.5-18.4-82.5-44.7-116-78.2s-59.8-72.5-78.2-116c-19-45-28.7-92.8-28.7-142s9.7-97 28.7-142c18.4-43.5 44.7-82.5 78.2-116s72.5-59.8 116-78.2c45-19 92.8-28.7 142-28.7s97 9.7 142 28.7c43.5 18.4 82.5 44.7 116 78.2s59.8 72.5 78.2 116c19 45 28.7 92.8 28.7 142s-9.7 97-28.7 142c-18.4 43.5-44.7 82.5-78.2 116s-72.5 59.8-116 78.2c-45 19.1-92.8 28.7-142 28.7z m0-649.6c-76.1 0-147.6 29.6-201.4 83.4-53.8 53.8-83.4 125.3-83.4 201.4 0 76.1 29.6 147.6 83.4 201.4 53.8 53.8 125.3 83.4 201.4 83.4 76.1 0 147.6-29.6 201.4-83.4s83.4-125.3 83.4-201.4c0-76.1-29.6-147.6-83.4-201.4-53.8-53.8-125.3-83.4-201.4-83.4z",fill:"#9f9f9f","p-id":"37993"}),T("path",{d:"M472 328.7h80v228h-80zM472 618.2h80v77.1h-80z",fill:"#9f9f9f","p-id":"37994"})],-1)}))],wn={key:3,class:"warn-icon"},kn=[It((function(){return T("svg",{class:"icon2","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-jinggao3"})],-1)}))],_n={key:4},In=["innerHTML"],Sn={key:5},On=["innerHTML"],Cn={key:6},Tn={key:7,class:"start-prompt"},En={class:"ai-c3-out"},zn={key:0,class:"ai-c3"},Pn={class:"ai-c3-btn"},Ln=It((function(){return T("svg",{class:"icon3","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-fuzhi2"})],-1)})),Nn={class:"own-pagnation"},jn={key:0},An={key:0,class:"icon6","aria-hidden":"true"},Bn=[It((function(){return T("use",{"xlink:href":"#icon-xiangzuo1"},null,-1)}))],Hn={key:1,class:"icon6","aria-hidden":"true"},Mn=[It((function(){return T("use",{"xlink:href":"#icon-xiangzuo"},null,-1)}))],Dn={class:"page-inner"},Rn=It((function(){return T("span",{class:"page-inner grey-color"}," / ",-1)})),Un={class:"page-inner grey-color"},Jn={key:0,class:"icon6","aria-hidden":"true"},Fn=[It((function(){return T("use",{"xlink:href":"#icon-xiangyou1"},null,-1)}))],Yn={key:1,class:"icon6","aria-hidden":"true"},$n=[It((function(){return T("use",{"xlink:href":"#icon-xiangyou"},null,-1)}))],Wn=It((function(){return T("div",{class:"empty"},null,-1)})),Gn={class:"bottom-item",id:"inputArea"},Vn=It((function(){return T("svg",{class:"icon5","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-xiangxia31"})],-1)})),Xn=It((function(){return T("div",{class:"file-position"},null,-1)})),qn={class:"input-position"},Zn={key:0,class:"ipt"},Kn=[It((function(){return T("svg",{class:"icon8","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-fasong"})],-1)}))],Qn=[It((function(){return T("svg",{class:"icon8","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-fasong1"})],-1)}))],er=[re('<svg version="1.1" id="L6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve" data-v-8f51601b><rect fill="none" stroke="#fff" stroke-width="4" x="25" y="25" width="50" height="50" data-v-8f51601b><animateTransform attributeName="transform" dur="0.5s" from="0 50 50" to="180 50 50" type="rotate" id="strokeBox" attributeType="XML" begin="rectBox.end" data-v-8f51601b></animateTransform></rect><rect x="27" y="27" fill="#fff" width="46" height="50" data-v-8f51601b><animate attributeName="height" dur="1.3s" attributeType="XML" from="50" to="0" id="rectBox" fill="freeze" begin="0s;strokeBox.end" data-v-8f51601b></animate></rect></svg>',1)],tr=It((function(){return T("div",null,null,-1)})),nr={key:1,class:"resend"},rr=It((function(){return T("span",{class:"resend-text"},"重新生成",-1)})),ar=It((function(){return T("svg",{class:"icon3","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-zhongxinshengcheng4"})],-1)})),ir={key:2,class:"resend"},or=It((function(){return T("span",{class:"resend-text"},"重新发送",-1)})),lr=It((function(){return T("svg",{class:"icon3","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-zhongxinshengcheng4"})],-1)})),ur="服务器返回出错，请重新生成！",cr="内容超过最大限制，思考暂停，请重新提问！",sr=i({__name:"llm",emits:["update-data"],setup:function(e,r){r.emit;var i=Q((function(){return ee((function(){return a.import("./ApiSet-legacy-94f4a8ee.js")}),void 0,a.meta.url)})),l=Q((function(){return ee((function(){return a.import("./topic-legacy-a7953b4a.js")}),void 0,a.meta.url)})),s=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wr=-1,Te.value&&(Ee.value=JSON.parse(JSON.stringify(Te.value))),Ce.value=t.topic_id,Te.value=t,!Ke.value){e.next=12;break}return e.next=12,dt(3);case 12:if(0!=ut.value){e.next=23;break}return e.prev=13,e.next=16,We(2);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13);case 21:return e.next=23,Oe();case 23:case"end":return e.stop()}}),e,null,[[13,18]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e){Ce.value=e},v=function(){ve.value="",k.value||D(),wr=-1,Ce.value=0,be.value=JSON.parse(JSON.stringify(ye.value)),Oe()},h=function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te.value&&(Ee.value=JSON.parse(JSON.stringify(Te.value))),!Ke.value){e.next=4;break}return e.next=4,dt(4);case 4:0==ut.value&&(wr=-1,be.value=JSON.parse(JSON.stringify(ye.value)),Ae({message:"已开始新话题",type:"success"}),Oe(),w());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"话题",t=Math.random().toString(36).slice(2,6).toUpperCase();return"".concat(e,"-").concat(t)}var x=b(),y=function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.get("/config.json?t=".concat(Date.now()));case 3:(t=e.sent)&&t.data&&(x.value=He.cloneDeep(t.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce.value=_t(),(t=He.cloneDeep(oe.value)).unshift({topic_id:Ce.value,topic_name:m(),apiBaseUrl:x.value.basicUrl,modelFrom:"1",maxTokens:4096,modelName:"",modelSelect:x.value.basicModel,authHeader:{name:"Authorization",value:""},systemSetup:"",conv:[]}),te.setTopicList(t),e.next=7,S();case 7:return e.next=9,de();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=b(!0),z=$([{icon:Je("image/setting.png"),text:"设置",showPopover:!1,bigicon:!1,smallicon:!1},{icon:Je("image/clean.png"),text:"清空",showPopover:!1,bigicon:!1,smallicon:!1},{icon:Je("image/download.png"),text:"下载",showPopover:!1,bigicon:!1,smallicon:!1}]),P=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0==t?F():1==t?Nr():2==t&&jr();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){e.showPopover=!1},D=function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.value=!k.value;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=b(!1),U=b(),F=function(){R.value=!R.value},Y=function(){R.value=!1},te=Fe(),ne=W(te),re=(ne.llmParam,ne.apiBaseUrl),ae=(ne.modelSelect,ne.authHeader),ie=ne.systemSetup,oe=(ne.modelName,ne.topicList);I(re,(function(e){}));var le=b(0),ue=b(!1);b(),_((function(){return window.innerWidth<=1440?{width:ue.value?"260px":"130px",height:ue.value?"168px":"32px",marginLeft:ue.value?"-65px":"0px"}:window.innerWidth>1440&&window.innerWidth<=1920?{width:ue.value?"320px":"160px",height:ue.value?"168px":"36px",marginLeft:ue.value?"-80px":"0px"}:{width:ue.value?"400px":"200px",height:ue.value?"168px":"42px",marginLeft:ue.value?"-100px":"0px"}})),_((function(){return{overflow:"hidden",height:ue.value?"auto":"0"}}));var ce=$({font:{fontSize:14,color:"rgba(0, 0, 0, 0.10)"},zIndex:1,rotate:-22,gap:[150,150],offset:[]}),se=b(!1),de=function(){se.value=!se.value},fe=Je("image/user.png"),pe=Je("image/ai-logo.png"),ve=b(""),he=b(),me=b(),xe=b([{content:"需要设置通用模型的配置"}]),ye=b([{speaker:"default",title:"Hi，我是AI助手",content:"对话基于通用模型的api，与网页本身无关。",loading:!1,isStart:!0,idx:0,parentId:-1,children:[]}]),be=b([{speaker:"default",title:"Hi，我是AI助手",content:"对话基于通用模型的api，与网页本身无关。",loading:!1,isStart:!0,idx:0,parentId:-1,children:[]}]),we=b(""),ke=function(){_e()},_e=function(){var e=b(localStorage.getItem("name"));e.value?we.value=_t()+"-"+e.value:we.value=_t()+"-customer",sessionStorage.setItem("itemUuid",we.value)},Ie=function(e){e.preventDefault()},Se=function(e){e.preventDefault(),tt(1)},Oe=function(){It.value=!0},Ce=b(0),Te=b(),Ee=b(),ze=b([]),Pe=b(!1),We=function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ze.value=[],0==Ce.value){e.next=10;break}return 1==t?(n=oe.value[0],Ce.value=n.topic_id):n=oe.value.find((function(e){return e.topic_id==Ce.value})),ze.value=n.conv,0==n.conv.length&&(r={speaker:"none",content:"root-null",loading:!1,idx:0,parentId:-1,children:[],currentPage:-1,create_time:"1",session_id:null,attachments:[],categories:[]},ze.value.push(r)),le.value=ze.value.length,e.next=10,Ge();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(0,ze.value);case 2:return t=e.sent,e.next=6,t.filter((function(e){return 0===e.children.length})).reduce((function(e,t){return!e||new Date(parseInt(t.create_time))>new Date(parseInt(e.create_time))?t:e}),null);case 6:if(n=e.sent){e.next=10;break}return e.abrupt("return",[]);case 10:return e.next=12,Xe(n.idx,ze.value);case 12:r=e.sent,be.value=r;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(e,t){for(var r=[],a=[e],i=function(){var e=a.pop(),i=t.find((function(t){return t.idx===e}));i&&(r.push(i),a.push.apply(a,n(i.children)))};a.length>0;)i();return r},Xe=function(e,t){for(var n=[],r=t.find((function(t){return t.idx===e}));r&&(n.unshift(r),-1!==r.parentId);){var a=JSON.parse(JSON.stringify(t.find((function(e){return e.idx===r.parentId})))),i=a.children.indexOf(r.idx);-1!==i&&(a.currentPage=i+1),r.nodeInfo={pPage:a.currentPage,length:a.children.length},r=a}return n},qe=function(e,t){Pe.value=!0;var n=ze.value.find((function(t){return t.idx===e}));if(n&&-1!==n.parentId){var r=ze.value.find((function(e){return e.idx===n.parentId}));if(r){var a=r.children.indexOf(e);if(-1!==a){var i=a+t;if(!(i<0||i>=r.children.length)){var o=r.children[i];r.currentPage=i+1;var l=Ve(o,ze.value),u=l.filter((function(e){return 0===e.children.length})).reduce((function(e,t){return!e||new Date(t.create_time)>new Date(e.create_time)?t:e}),null);if(u){var c=Xe(u.idx,ze.value);be.value=c}}}}}},Ke=b(!1);b(!0);var Qe=function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dt(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),et=function(e,t){try{if(""===e.input)if(e.think)if(0==t);else{var n=be.value[be.value.length-1];n.htmlContent=bt(cr,n,1),e.input=cr}else if(0==t){var r=be.value[be.value.length-1];r.content=ur,r.htmlContent=bt(ur,r,1),e.input=ur}var a={data:{dialogue_create_time:"",dialogue_id:le.value+1,topic_id:Ce.value}};return le.value+=1,a}catch(i){return null}},tt=function(){var e=u(o().mark((function e(t){var n,r,a,i,l,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ke.value){e.next=4;break}e.next=43;break;case 4:if(Ke.value=!0,!(n=oe.value.find((function(e){return e.topic_id==Ce.value}))).conv||0!=n.conv.length){e.next=15;break}return e.next=10,ke();case 10:ze.value=[],r={speaker:"none",content:"root-null",loading:!1,idx:0,parentId:-1,children:[],currentPage:-1,create_time:"1",session_id:null},ze.value.push(r),e.next=18;break;case 15:we.value=be.value[be.value.length-1].session_id;case 18:if(1==t?(a=JSON.parse(JSON.stringify(ve.value)),ve.value=""):a=JSON.parse(JSON.stringify(be.value[be.value.length-1].content)),!n.conv||0!=n.conv.length){e.next=35;break}({input:a,session_id:we.value}),e.prev=23,de(),l={input:a,parent_id:0,topic_id:Ce.value,session_id:we.value,content_type:1},i=et(l),e.next=33;break;case 29:return e.prev=29,e.t0=e.catch(23),e.abrupt("return");case 33:e.next=37;break;case 35:u={input:a,parent_id:be.value[be.value.length-1].idx,topic_id:Ce.value,session_id:we.value,content_type:1},i=et(u);case 37:return c={speaker:"user",content:a,loading:!1,idx:i.data.dialogue_id,isEdit:!1,session_id:we.value,parentId:be.value[be.value.length-1].idx,children:[],currentPage:-1},nt(c),e.next=43,at(a,1);case 43:case"end":return e.stop()}}),e,null,[[23,29]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(e){var t=ze.value.find((function(t){return t.idx===e.parentId}));t.children.push(e.idx);var n=t.children.indexOf(e.idx);-1!==n&&(t.currentPage=n+1),e.nodeInfo={pPage:t.currentPage,length:t.children.length},ze.value.push(e),be.value.push(e)},rt=b(),at=function(){var e=u(o().mark((function e(t,n){var r,a,i,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],""!=ie.value&&r.push({role:"system",content:ie.value}),be.value.forEach((function(e,t){"none"==e.speaker||"default"==e.speaker||r.push({role:e.speaker,content:e.content})})),a={speaker:"assistant",content:"",loading:!0,idx:-1,isEdit:!1,session_id:we.value,parentId:be.value[be.value.length-1].idx,children:[],currentPage:-1,htmlContent:"",think:"",htmlThinkContent:"",activeName:["1"],showContent:!0,created:0,ended:0},2!=n&&4!=n||(a.parentId=be.value[be.value.length-1].idx),e.next=14,nt(a);case 14:return rt.value=new AbortController,i=setTimeout((function(){rt.value&&dt(1)}),2e4),e.prev=18,e.next=21,it(r);case 21:if(l=e.sent,clearTimeout(i),!l){e.next=29;break}return e.next=27,ot(l,a);case 27:e.next=29;break;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(18),ct(e.t0,a);case 34:case"end":return e.stop()}}),e,null,[[18,31]])})));return function(t,n){return e.apply(this,arguments)}}(),it=function(){var e=u(o().mark((function e(t){var n,r,a,i,l,u,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=oe.value.find((function(e){return e.topic_id==Ce.value})),r=rt.value.signal,e.prev=6,a={model:n.modelSelect,messages:t,stream:!0},n.moreSet&&(n.temperature&&(a.temperature=n.temperature/50),n.temperature&&(a.top_p=n.topP/100),n.maxTokens&&(a.max_tokens=n.maxTokens)),n.args&&n.args.length>0)for(i=0;i<n.args.length;i++)l=n.args[i],a[l.key]=l.value;return u=JSON.stringify(a),c={"Content-Type":"application/json",Accept:"application/json"},ae.value&&(c[n.authHeader.name]=n.authHeader.value),e.next=17,fetch("".concat(n.apiBaseUrl),{method:"POST",signal:r,headers:c,body:u});case 17:if((s=e.sent).ok){e.next=21;break}throw Ke.value=!1,new Error("HTTP error! status: ".concat(s.status));case 21:return e.abrupt("return",s);case 24:throw e.prev=24,e.t0=e.catch(6),e.t0;case 28:case"end":return e.stop()}}),e,null,[[6,24]])})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=u(o().mark((function e(n,r){var a,i,l,u,c,s,d,f,p,v,h,g,m,x,y,b,w,k,_,I,S,O,C,T;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,i=null===(a=n.body)||void 0===a?void 0:a.getReader(),l="",u=!1,c=be.value[be.value.length-1],0==Ce.value&&de(),s=0;case 9:if(u){e.next=72;break}return e.next=12,i.read();case 12:if(d=e.sent,f=d.value,p=d.done,!f){e.next=69;break}v=new TextDecoder,l+=v.decode(f),h=l.split("\n"),l=h.pop(),g=t(h),e.prev=21,g.s();case 23:if((m=g.n()).done){e.next=61;break}if(""!==(x=m.value).trim()){e.next=29;break}e.next=59;break;case 29:if(e.prev=29,e.prev=31,y=x.replace("data: ",""),(b=JSON.parse(y)).choices&&b.choices.length>0&&((w=b.choices[0].delta.content)&&(c.content+=w,c.htmlContent=bt(c.content,c,1)),(k=b.choices[0].delta.reasoning_content)&&(c.think+=k,c.htmlThinkContent=bt(c.think,c,2))),!b.choices||"stop"!==b.choices[0].finish_reason){e.next=44;break}return s=1,u=!0,e.abrupt("break",61);case 44:if(!b.choices||"length"!==b.choices[0].finish_reason){e.next=49;break}return s=2,u=!0,e.abrupt("break",61);case 49:e.next=54;break;case 51:e.prev=51,e.t0=e.catch(31);case 54:e.next=59;break;case 56:e.prev=56,e.t1=e.catch(29);case 59:e.next=23;break;case 61:e.next=66;break;case 63:e.prev=63,e.t2=e.catch(21),g.e(e.t2);case 66:return e.prev=66,g.f(),e.finish(66);case 69:p&&(s=3,u=!0),e.next=9;break;case 72:return _={input:c.content,parent_id:r.parentId,topic_id:Ce.value,session_id:we.value,content_type:2},c.think&&(_.think=c.think),e.next=77,et(_,s);case 77:I=e.sent,c.idx=I.data.dialogue_id,S=be.value.find((function(e){return e.idx===r.parentId})),O=ze.value.find((function(e){return e.idx===r.parentId})),C=S.children.findIndex((function(e){return-1===e})),T=O.children.findIndex((function(e){return-1===e})),S.children[C]=I.data.dialogue_id,O.children[T]=I.data.dialogue_id,Ke.value=!1,(c=be.value[be.value.length-1]).loading=!1,lt();case 90:case"end":return e.stop()}}),e,null,[[21,63,66,69],[29,56],[31,51]])})));return function(t,n){return e.apply(this,arguments)}}(),lt=function(){var e=He.cloneDeep(oe.value);e.find((function(e){return e.topic_id==Ce.value})).conv=He.cloneDeep(ze.value),te.setTopicList(e)},ut=b(0),ct=function(){var e=u(o().mark((function e(t,n){var r,a,i,l,u,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.name,r=be.value[be.value.length-1],Ke.value=!1,a={input:r.content,parent_id:n.parentId,topic_id:Ce.value,session_id:we.value,content_type:2},r.think&&(a.think=r.think),0!=ut.value&&Ee.value&&(a.topic_id=Ee.value.topic_id),e.next=13,et(a,0);case 13:i=e.sent,r.idx=i.data.dialogue_id,l=be.value.find((function(e){return e.idx===n.parentId})),u=ze.value.find((function(e){return e.idx===n.parentId})),c=l.children.findIndex((function(e){return-1===e})),s=u.children.findIndex((function(e){return-1===e})),l.children[c]=i.data.dialogue_id,u.children[s]=i.data.dialogue_id,Ee.value=null,ut.value=0,lt();case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dt=function(e){null!=rt.value?(2==e||(Ke.value=!1),3==e?ut.value=1:4==e&&(ut.value=2),be.value[be.value.length-1].loading=!1,rt.value.abort(),rt.value=null):Ke.value=!1},ft=function(){var e=u(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:at(null,1==r?3:4);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),pt=function(){if(window.innerWidth<=1440){if(he.value){var e=he.value;e.style.height="20px";var t=e.scrollHeight;if(28>=t||0===ve.value.length)return void vt();e.style.removeProperty("overflow-y"),e.style.height=t+"px";var n=me.value,r=e.offsetHeight;n.style.height=r+"px"}ce.font.fontSize=12,ce.gap=[50,50]}else if(he.value){var a=he.value;a.style.height="32px";var i=a.scrollHeight;if(32>=i||0===ve.value.length)return void vt();a.style.removeProperty("overflow-y"),a.style.height=i+"px";var o=me.value,l=a.offsetHeight;o.style.height=l+"px"}},vt=function(){if(window.innerWidth<1440){if(he.value){var e=he.value;e.style.height="20px",e.style.overflowY="hidden",me.value.style.height="32px"}}else if(he.value){var t=he.value;t.style.height="32px",t.style.overflowY="hidden",me.value.style.height="40px"}},ht=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},gt=Ye.Renderer,xt=new gt,yt=new gt,bt=function(e,t,n){if(""==e)return"<p></p>";var r=1===n?xt:yt,a=Ye.parse(e,{renderer:r});return a=a.trim()},wt=G().proxy,kt=function(e){var t=e.getElementsByTagName("code")[0].innerHTML,n=decodeURIComponent(t);wt.$copyText(n).then((function(t){var n=e.innerHTML;e.innerHTML='<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">\n                    <polyline points="20 6 9 17 4 12"></polyline>\n                </svg>\n                <span>Copied!</span>',setTimeout((function(){e.innerHTML=n}),1e3)}),(function(e){}))},It=b(!0),sr=b(null),dr=function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=sr.value)||void 0===t?void 0:t.$el.querySelector(".el-scrollbar__wrap"),It.value){e.next=5;break}e.next=14;break;case 5:if(!Pe.value){e.next=11;break}return e.next=8,S();case 8:n.scrollTo({top:n.scrollHeight,behavior:"smooth"}),e.next=14;break;case 11:return e.next=13,S();case 13:n.scrollTo({top:n.scrollHeight});case 14:Pe.value=!1;case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fr=function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=null===(t=sr.value)||void 0===t?void 0:t.$el.querySelector(".el-scrollbar__wrap")).scrollTo({top:n.scrollHeight,behavior:"smooth"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pr=function(){var e,t=null===(e=sr.value)||void 0===e?void 0:e.$el.querySelector(".el-scrollbar__wrap");if(t){var n=t.scrollHeight-(t.scrollTop+t.clientHeight);It.value=n<=10}},vr=function(e){wt.$copyText(e).then((function(e){Ae({message:"复制成功",type:"success"})}),(function(e){Ae({message:"复制失败",type:"warning"})}))},hr=function(){var e=u(o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke.value=!0,be.value.pop(),e.next=7,ke();case 7:return r={session_id:t.session_id,new_session_id:we.value},a=ze.value.find((function(e){return e.idx===t.parentId})),e.prev=10,e.next=13,ft(r,a.content,2);case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(10);case 17:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t,n){return e.apply(this,arguments)}}(),gr=b(!1),mr=b(),xr=b(),yr=b(null),br=b(),wr=-1,kr=function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!=wr&&(be.value[wr].isEdit=!1),t.isEdit=!0,mr.value=t.content,gr.value=!0,wr=n;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_r=function(){var e=u(o().mark((function e(t,n){var r,a,i,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isEdit=!1,gr.value=!1,zr.value=0,Ke.value=!0,e.next=8,ke();case 8:return r={input:t.content,parent_id:t.parentId,topic_id:Ce.value,session_id:we.value,content_type:1},e.next=12,et(r);case 12:return a=e.sent,i={session_id:t.session_id,new_session_id:we.value},(l=JSON.parse(JSON.stringify(t))).children=[],l.content=t.content,l.idx=a.data.dialogue_id,l.nodeInfo.pPage+=1,l.nodeInfo.length+=1,l.currentPage=l.nodeInfo.pPage,l.create_time=a.data.dialogue_create_time,e.prev=27,e.next=30,Sr(l);case 30:return e.next=32,ft(i,l.content,1);case 32:e.next=36;break;case 34:e.prev=34,e.t0=e.catch(27);case 36:case"end":return e.stop()}}),e,null,[[27,34]])})));return function(t,n){return e.apply(this,arguments)}}(),Ir=function(){var e=u(o().mark((function e(t,n){var r,a,i,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isEdit=!1,gr.value=!1,Ke.value=!0,e.next=7,ke();case 7:return r={input:mr.value,parent_id:t.parentId,topic_id:Ce.value,session_id:we.value,content_type:1},e.next=11,et(r);case 11:return a=e.sent,i={session_id:t.session_id,new_session_id:we.value},(l=JSON.parse(JSON.stringify(t))).children=[],l.content=mr.value,l.idx=a.data.dialogue_id,l.nodeInfo.pPage+=1,l.nodeInfo.length+=1,l.currentPage=l.nodeInfo.pPage,l.create_time=a.data.dialogue_create_time,e.prev=26,e.next=29,Sr(l);case 29:return e.next=31,ft(i,l.content,1);case 31:e.next=35;break;case 33:e.prev=33,e.t0=e.catch(26);case 35:case"end":return e.stop()}}),e,null,[[26,33]])})));return function(t,n){return e.apply(this,arguments)}}(),Sr=function(){var e=u(o().mark((function e(t){var r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={speaker:t.speaker,content:t.content,loading:!1,idx:t.idx,isEdit:!1,session_id:t.session_id,parentId:t.parentId,create_time:t.create_time,children:t.children,currentPage:-1},(a=ze.value.find((function(e){return e.idx===r.parentId}))).currentPage=t.nodeInfo.pPage,-1!==(i=be.value.findIndex((function(e){return e.idx===a.idx})))){e.next=8;break}return e.abrupt("return");case 8:return be.value.splice(i+1),e.next=12,nt(r);case 12:be.value=n(be.value);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Or=function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cr=b(window.innerWidth),Tr=function(){Cr.value=window.innerWidth},Er=_((function(){return Cr.value>1920?"large-textarea":Cr.value>1440&&Cr.value<=1920?"medium-textarea":"small-textarea"})),zr=b(0),Pr=function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=be.value.length,be.value[t-1].content!=ur){e.next=5;break}zr.value=1,e.next=15;break;case 5:if("user"!==be.value[t-1].speaker){e.next=9;break}zr.value=2,e.next=15;break;case 9:return zr.value=0,e.next=12,S();case 12:if(!he.value){e.next=15;break}return e.next=15,pt();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lr=function(e){Ke.value&&dt(1)},Nr=function(){sessionStorage.removeItem("topicList");var e=He.cloneDeep(oe.value);e.find((function(e){return e.topic_id==Ce.value})).conv=[],te.setTopicList(e),We(2)},jr=function(){var e=be.value.map((function(e){return"Speaker: ".concat(e.speaker,"\nContent:\n").concat(e.content,"\n")})).join("\n---\n"),t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="QA.txt",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)};return O(u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oe.value,e.next=3,y();case 3:return n&&n.length>0?We(1):w(),window.copy=kt,e.next=7,xt.code=function(e,t,n){var r=ht(e);return t&&"html"==t&&(r=encodeURIComponent(e)),t&&(r=$e.highlightAuto(e).value),""===t.trim()&&(t="bash"),'<div class="bg-white mb-4 rounded-md">\n      <div class="code_header flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans">\n        <span>'.concat(t||"",'</span>\n        <button onclick="copy(this)" class="copy-btn">\n          <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">\n            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n          </svg>\n          <span>Copy code</span>\n          <code style="display:none">').concat(encodeURIComponent(e),'</code>\n        </button>\n      </div>\n\n      <div class="p-4 overflow-y-auto">\n        <code class="whitespace-pre hljs language-').concat(t,'">').concat(r,"</code>\n      </div>\n    </div>")},xt.paragraph=function(e){return'<p style="white-space:pre-wrap;">'.concat(e,"</p >")},void(xt.link=function(e,t,n){var r='<a href="'.concat(e,'" target="_blank"');return t&&(r+=' title="'.concat(t,'"')),r+=">".concat(n,"</a>")});case 7:return xt.value=e.sent,e.next=10,yt.code=function(e,t,n){var r=ht(e);return t&&"html"==t&&(r=encodeURIComponent(e)),t&&(r=$e.highlightAuto(e).value),""===t.trim()&&(t="bash"),'<div class="bg-grey mb-4 rounded-md">\n      <div class="pg-4 overflow-y-auto">\n        <code class="whitespace-pre language-'.concat(t,'">').concat(r,"</code>\n      </div>\n    </div>")},yt.paragraph=function(e){return'<p style="white-space:pre-wrap;">'.concat(e,"</p >")},void(yt.link=function(e,t,n){var r='<a href="'.concat(e,'" target="_blank"');return t&&(r+=' title="'.concat(t,'"')),r+=">".concat(n,"</a>")});case 10:yt.value=e.sent,he.value&&pt(),(r=null===(t=sr.value)||void 0===t?void 0:t.$el.querySelector(".el-scrollbar__wrap"))&&r.addEventListener("scroll",pr),window.addEventListener("resize",Tr),window.addEventListener("beforeunload",Lr);case 16:case"end":return e.stop()}}),e)})))),V((function(){var e,t=null===(e=sr.value)||void 0===e?void 0:e.$el.querySelector(".el-scrollbar__wrap");t&&t.removeEventListener("scroll",pr),window.removeEventListener("resize",Tr),window.removeEventListener("beforeunload",Lr)})),I(be,(function(e,t){gr.value||dr(),Pr()}),{deep:!0}),I((function(){return ve.value}),(function(e,t){e!==t&&pt()})),I((function(){return mr.value}),(function(e,t){e!==t&&Or()})),function(e,t){var n=st,r=ge,a=Me,o=De,u=Ze,m=Re,x=mt,y=Ue;return c(),N("div",St,[T("div",Ot,[T("div",Ct,[T("div",Tt,[C(g(l),{onPickTopic:s,onNewTalk:h,onGetNewTopicId:p,onDeleteNowTopic:v,refreshSignal:g(se)},null,8,["refreshSignal"])])]),T("div",Et,[C(g(i),{ref_key:"apiSetRef",ref:U,type:2,isOpen:g(R),topicID:g(Ce),onCloseCard:Y},null,8,["isOpen","topicID"])]),T("div",zt,[T("div",{id:"side_menu",class:E(["side_menu",{collapsible:g(k)}])},[T("div",Pt,[(c(!0),N(j,null,B(g(z),(function(e,t){return c(),N("div",{key:e.text,class:E(["menu_item",{"big-menu_item":e.bigicon}]),onMouseenter:function(t){return function(e){e.showPopover=!0}(e)},onMouseleave:A,onClick:function(e){return P(t)}},[C(n,{src:e.icon,class:E(["side-img",{"big-side-img":e.bigicon,"small-side-img":e.smallicon}])},null,8,["src","class"]),T("span",Nt,J(e.text),1),H(T("div",{class:"popover"},J(e.text),513),[[M,e.showPopover]])],42,Lt)})),128))]),T("div",{class:"menu_item toggle",onClick:D},[C(r,null,{default:f((function(){return[C(g(Le),{class:"side-menu-icon"})]})),_:1})])],2)]),C(y,{ref_key:"scrollArea",ref:sr,class:"scroll-area",style:{width:"80%",height:"calc(100% - 150px)","margin-top":"20px"}},{default:f((function(){return[C(x,{content:["AI生成","生成内容仅供参考"],gap:g(ce).gap,"z-index":g(ce).zIndex,font:g(ce).font},{default:f((function(){return[g(be).length>0?(c(),N("div",{key:0,class:"all-content",ref_key:"allOutDiv",ref:br},[(c(!0),N(j,null,B(g(be),(function(e,i){return c(),N(j,{key:i},["user"==e.speaker?(c(),N("div",jt,[T("div",At,[T("div",Bt,[e.isEdit?(c(),N("div",nn,[T("div",{class:"c2",ref_for:!0,ref_key:"editRefOut",ref:yr},[C(o,{ref_for:!0,ref_key:"editRef",ref:xr,modelValue:g(mr),"onUpdate:modelValue":t[0]||(t[0]=function(e){return X(mr)?mr.value=e:null}),autosize:"",type:"textarea",class:E(["edit-text",g(Er)])},null,8,["modelValue","class"])],512),T("div",rn,[T("div",an,[0!=g(mr).length?(c(),d(a,{key:0,link:"",class:"btn-tooltip",onClick:function(t){return Ir(e,i)}},{default:f((function(){return[on]})),_:2},1032,["onClick"])):L("",!0),C(a,{link:"",class:"btn-tooltip",onClick:function(t){return e.isEdit=!1,void(gr.value=!1)},style:{"margin-left":"0px"}},{default:f((function(){return[ln]})),_:2},1032,["onClick"])])])])):(c(),N("div",Ht,[T("div",Mt,J(e.content),1),T("div",Dt,[T("div",Rt,[T("div",Ut,[e.nodeInfo&&1!=e.nodeInfo.length?(c(),N("div",Jt,[C(a,{link:"",onClick:function(t){return qe(e.idx,-1)},disabled:1==e.nodeInfo.pPage},{default:f((function(){return[1!=e.nodeInfo.pPage?(c(),N("svg",Ft,Yt)):(c(),N("svg",$t,Wt))]})),_:2},1032,["onClick","disabled"]),T("span",Gt,J(e.nodeInfo.pPage),1),Vt,T("span",Xt,J(e.nodeInfo.length),1),C(a,{link:"",onClick:function(t){return qe(e.idx,1)},disabled:e.nodeInfo.pPage==e.nodeInfo.length},{default:f((function(){return[e.nodeInfo.pPage!=e.nodeInfo.length?(c(),N("svg",qt,Zt)):(c(),N("svg",Kt,Qt))]})),_:2},1032,["onClick","disabled"])])):L("",!0)]),g(Ke)?L("",!0):(c(),N("div",en,[C(a,{link:"",onClick:function(t){return kr(e,i)},circle:"",size:"small",style:{padding:"2px"}},{default:f((function(){return[tn]})),_:2},1032,["onClick"])]))])])])),T("div",un,[C(n,{src:g(fe),class:"hm-img"},null,8,["src"])])])])])):L("",!0),"assistant"==e.speaker||"default"==e.speaker?(c(),N("div",cn,[T("div",{class:E(["ai-content",{"last-item-ai":i==g(be).length-1}])},[T("div",sn,[T("div",dn,[C(n,{src:g(pe),class:"ai-img"},null,8,["src"])]),T("div",fn,[e.think?(c(),N("div",pn,[C(a,{class:"think-title",onClick:function(t){return function(e){e.showContent=!e.showContent}(e)}},{default:f((function(){return[q(" 深度思考 "),C(r,{size:"0.8em",class:E(["icon-move",{move:!e.showContent}])},{default:f((function(){return[C(g(Ne))]})),_:2},1032,["class"])]})),_:2},1032,["onClick"]),C(u,null,{default:f((function(){return[H(T("div",vn,[T("div",{class:E([{"warn-content":e.content==ur},"think-c2"]),innerHTML:e.htmlThinkContent},null,10,hn)],512),[[M,e.showContent]])]})),_:2},1024)])):L("",!0),e.content||""==e.content?(c(),N("div",{key:1,class:E(["ai-c2",{"warn-outer":e.content==ur,"empty-outer":""==e.content,"not-empty-outer":""!=e.content}])},["default"==e.speaker?(c(),N("div",gn,J(e.title),1)):L("",!0),e.content||g(Ke)||!e.htmlThinkContent?e.content||g(Ke)?L("",!0):(c(),N("div",yn,bn)):(c(),N("div",mn,xn)),e.content&&e.content==ur?(c(),N("div",wn,kn)):L("",!0),e.content?(c(),N("div",_n,[T("div",{class:E([{"result-streaming":g(Ke)&&g(be).length-1==i,"warn-content":e.content==ur},"c2"]),innerHTML:e.htmlContent},null,10,In)])):""==e.content&&e.htmlThinkContent?(c(),N("div",Sn,[T("div",{class:E([{"result-streaming":g(Ke)&&g(be).length-1==i},"c2"]),innerHTML:e.htmlContent},null,10,On)])):""==e.content?(c(),N("div",Cn,[T("div",{class:E([{"result-streaming":g(Ke)&&g(be).length-1==i},"c2"])},null,2)])):L("",!0),e.isStart?(c(),N("div",Tn,[(c(!0),N(j,null,B(g(xe),(function(e,t){return c(),N("div",{key:t,class:"prompt-style"},[C(r,{class:"right-icon"},{default:f((function(){return[C(g(je))]})),_:1}),T("div",null,J(e.content),1)])})),128))])):L("",!0)],2)):L("",!0),T("div",En,[e.loading||e.title||!e.content?L("",!0):(c(),N("div",zn,[T("div",Pn,[C(m,{class:"box-item",effect:"dark",content:"复制markdown",placement:"bottom"},{default:f((function(){return[C(a,{link:"",onClick:function(t){return n=e.content,void vr(n);var n},class:"btn-tooltip",circle:""},{default:f((function(){return[Ln]})),_:2},1032,["onClick"])]})),_:2},1024)]),T("div",Nn,[e.nodeInfo&&1!=e.nodeInfo.length?(c(),N("div",jn,[C(a,{link:"",onClick:function(t){return qe(e.idx,-1)},disabled:1==e.nodeInfo.pPage},{default:f((function(){return[1!=e.nodeInfo.pPage?(c(),N("svg",An,Bn)):(c(),N("svg",Hn,Mn))]})),_:2},1032,["onClick","disabled"]),T("span",Dn,J(e.nodeInfo.pPage),1),Rn,T("span",Un,J(e.nodeInfo.length),1),C(a,{link:"",onClick:function(t){return qe(e.idx,1)},disabled:e.nodeInfo.pPage==e.nodeInfo.length},{default:f((function(){return[e.nodeInfo.pPage!=e.nodeInfo.length?(c(),N("svg",Jn,Fn)):(c(),N("svg",Yn,$n))]})),_:2},1032,["onClick","disabled"])])):L("",!0)])]))])])])],2)])):L("",!0)],64)})),128)),Wn],512)):L("",!0)]})),_:1},8,["gap","z-index","font"])]})),_:1},512),T("div",Gn,[g(It)||g(Ke)?L("",!0):(c(),N("div",{key:0,class:"stable-position",onClick:fr},[C(a,{link:"",class:"btn-tooltip"},{default:f((function(){return[Vn]})),_:1})])),Xn,T("div",qn,[0==g(zr)?(c(),N("div",Zn,[H(T("textarea",{ref_key:"inputChat",ref:he,"onUpdate:modelValue":t[1]||(t[1]=function(e){return X(ve)?ve.value=e:null}),onKeydown:K(Ie,["enter"]),onKeyup:K(Se,["enter"])},null,544),[[Z,g(ve)]]),T("div",{ref_key:"inputBtn",ref:me,class:"btn-outer"},[!g(Ke)&&g(ve).length>0?(c(),N("div",{key:0,onClick:t[2]||(t[2]=function(e){return tt(1)}),class:"click-btn"},Kn)):L("",!0),g(Ke)||0!=g(ve).length?L("",!0):(c(),N("div",{key:1,onClick:t[3]||(t[3]=function(e){Ae({message:"输入不能为空，请调整输入！",type:"warning",offset:5,appendTo:"#inputArea"})}),class:"click-btn not-allow-send"},Qn)),g(Ke)?(c(),N("div",{key:2,onClick:t[4]||(t[4]=function(e){return Qe()}),class:"click-btn"},er)):L("",!0),tr],512)])):L("",!0),1==g(zr)?(c(),N("div",nr,[C(a,{class:"resend-btn",onClick:t[5]||(t[5]=function(e){return hr(g(be)[g(be).length-1],0)})},{default:f((function(){return[rr,ar]})),_:1})])):L("",!0),2==g(zr)?(c(),N("div",ir,[C(a,{class:"resend-btn",onClick:t[6]||(t[6]=function(e){return _r(g(be)[g(be).length-1])})},{default:f((function(){return[or,lr]})),_:1})])):L("",!0)])])])])}}}),dr=ae(sr,[["__scopeId","data-v-8f51601b"]]),fr=Object.freeze(Object.defineProperty({__proto__:null,default:dr},Symbol.toStringTag,{value:"Module"}));e("l",fr)}}}))}();
