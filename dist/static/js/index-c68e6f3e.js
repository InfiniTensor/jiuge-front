import{C as e,N as t,H as o,P as n,aK as s,aL as a,aM as u,aN as l,aO as c,y as d,A as i}from"./llm-85b86ab6.js";import{b as m,ax as r,x as E,s as v,B as p,aD as f,w as T,o as y,T as M,e as S,R as L,E as A,aB as Y}from"./index-58a1d733.js";const h=t=>["",...e].includes(t);var x=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(x||{});const C=(e,o,n,s)=>{let a={offsetX:0,offsetY:0};const u=o=>{const n=o.clientX,u=o.clientY,{offsetX:l,offsetY:c}=a,d=e.value.getBoundingClientRect(),i=d.left,m=d.top,r=d.width,E=d.height,v=document.documentElement.clientWidth,p=document.documentElement.clientHeight,f=-i+l,T=-m+c,y=v-i-r+l,M=p-m-E+c,S=o=>{let d=l+o.clientX-n,i=c+o.clientY-u;(null==s?void 0:s.value)||(d=Math.min(Math.max(d,f),y),i=Math.min(Math.max(i,T),M)),a={offsetX:d,offsetY:i},e.value&&(e.value.style.transform="translate(".concat(t(d),", ").concat(t(i),")"))},L=()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",L)},l=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",u)};m((()=>{r((()=>{n.value?o.value&&e.value&&o.value.addEventListener("mousedown",u):l()}))})),E((()=>{l()}))},N=(e,t={})=>{v(e)||o("[useLockscreen]","You need to pass a ref param to this function");const d=t.ns||p("popup"),i=f((()=>d.bm("parent","hidden")));if(!n||s(document.body,i.value))return;let m=0,r=!1,E="0";const M=()=>{setTimeout((()=>{c(null==document?void 0:document.body,i.value),r&&document&&(document.body.style.width=E)}),200)};T(e,(e=>{if(!e)return void M();r=!s(document.body,i.value),r&&(E=document.body.style.width),m=a(d.namespace.value);const t=document.documentElement.clientHeight<document.body.scrollHeight,o=u(document.body,"overflowY");m>0&&(t||"scroll"===o)&&r&&(document.body.style.width="calc(100% - ".concat(m,"px)")),l(document.body,i.value)})),y((()=>M()))},b=e=>{if(!e)return{onClick:M,onMousedown:M,onMouseup:M};let t=!1,o=!1;return{onClick:n=>{t&&o&&e(n),t=o=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{o=e.target===e.currentTarget}}},R=d({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:i([String,Array,Object])},zIndex:{type:i([String,Number])}});const _=S({name:"ElOverlay",props:R,emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:t,emit:o}){const n=p("overlay"),{onClick:s,onMousedown:a,onMouseup:u}=b(e.customMaskEvent?void 0:e=>{o("click",e)});return()=>e.mask?L("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:s,onMousedown:a,onMouseup:u},[A(t,"default")],x.STYLE|x.CLASS|x.PROPS,["onClick","onMouseup","onMousedown"]):Y("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[A(t,"default")])}});export{_ as E,N as a,b,h as i,C as u};
